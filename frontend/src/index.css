@import url("https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600&family=Poppins:wght@700;800&display=swap");

/* -------- Tailwind -------- */
@tailwind base;
@tailwind components;
@tailwind utilities;

/* -------- Base / Tokens -------- */
@layer base {
  :root {
    /* Default theme */
    --app-bg: #A8C3BC;             /* Opal */
    --surface: #ffffff;
    --ring: rgba(0, 0, 0, .10);
    --shadow: 0 6px 28px rgba(15,23,42,.12);
    --title: #0b1324;
    --muted: #64748b;
    --grid: rgba(2,6,23,.12);
    --up: #059669;
    --down: #dc2626;
    --chipText: #0b3a42;
    --radius: 18px;
  }

  /* Optional light cornflower theme on <body class="theme-lcb"> */
  body.theme-lcb {
    --app-bg: #046599;
    --surface: #ffffff;
    --ring: rgba(0, 0, 0, .12);
    --shadow: 0 6px 28px rgba(2,6,23,.14);
    --muted: #40546b;
    --grid: rgba(2,6,23,.16);
  }

  html, body { min-height: 100%; }
  body {
    background: var(--app-bg);
    color: var(--title);
    font-family: Inter, ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial;
    font-size: 18px;
    line-height: 1.6;
  }
  h1, h2, h3, .font-display {
    font-family: Poppins, Inter, ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial;
    letter-spacing: -0.01em;
  }
}

/* -------- Components -------- */
@layer components {
  /* App container (compact & centered) */
  .app-wrap{
    max-width: 1240px;
    margin-inline: auto;
    padding: 0 18px 36px;
  }

  /* Header */
  .app-header{
    display: grid;
    grid-template-columns: 84px 1fr 84px;
    align-items: center;
    gap: 16px;
    padding: 18px 0 8px;
    text-align: center;
  }
  .title{
    margin: 0;
    font-weight: 800;
    line-height: 1.15;
    font-size: clamp(20px, 3vw, 34px);
  }
  .subtitle{
    margin-top: 6px;
    color: var(--muted);
    font-size: 14px;
  }

  /* Logos */
  .brand-left,
  .brand-right{
    width: 64px;
    height: 64px;
    object-fit: contain;
    user-select: none;
    pointer-events: none;
    justify-self: center;
  }
  .brand-right{ clip-path: circle(46% at 50% 50%); }
  @media (min-width: 768px){
    .brand-left{  width: 72px; height: 72px; }
    .brand-right{ width: 72px; height: 72px; }
  }
  @media (min-width: 1024px){
    .brand-left{  transform: translateX(-1in); }
    .brand-right{ transform: translateX( 1in); }
  }

  /* Joined segmented control (no gap) */
  .segmented{
    display: inline-flex;
    background: #fff;
    border: 1px solid #e5e7eb;
    border-radius: 14px;
    box-shadow: 0 2px 6px rgba(0,0,0,.06);
    overflow: hidden;            /* removes visible seam */
  }
  .segmented__btn{
    appearance: none;
    background: transparent;
    border: 0;
    border-right: 1px solid #e5e7eb; /* shared border => no spacing */
    padding: 8px 16px;
    font-size: 14px;
    line-height: 1;
    cursor: pointer;
    color: #111827;
  }
  .segmented__btn:last-child{ border-right: 0; }
  .segmented__btn.is-active{
    background: #5b5ce2; /* accent */
    color: #fff;
  }

  /* Panels / Cards */
  .panel{
    background: var(--surface);
    border: 1px solid var(--ring);
    box-shadow: var(--shadow);
    border-radius: var(--radius);
    padding: 1.25rem;
  }
  .panel--pill{ border-radius: 22px; }

  /* Inputs */
  .panel label, .panel .muted{ font-size: 1rem; font-weight: 600; }
  .select{
    width: 100%;
    background: #fff;
    border: 1px solid var(--ring);
    border-radius: .5rem;
    padding: .6rem .75rem;
    font-size: 1.05rem;
  }
  .checkbox-label{ display: inline-flex; align-items: center; gap: .5rem; }
  .checkbox-label span{ font-size: 1.05rem; }

  /* KPI tiles */
  .stat-card{
    background: var(--surface);
    border: 1px solid var(--ring);
    box-shadow: var(--shadow);
    border-radius: 16px;
    min-height: 128px;
    padding: 1.25rem;
  }
  .stat-title{ color: var(--muted); font-size: 1rem; font-weight: 600; }
  .stat-value{ font-size: 1.9rem; font-weight: 600; line-height: 1.25; margin-top: .25rem; }
  .stat-sub{ color: var(--muted); font-size: .98rem; margin-top: .25rem; }

  /* Change chips */
  .badge{
    color: var(--chipText);
    display: inline-flex; align-items: center;
    border-radius: 9999px;
    padding: .22rem .55rem;
    font-size: .82rem; font-weight: 700;
  }
  .badge--up{ background: var(--up); color: #fff; }
  .badge--down{ background: var(--down); color: #fff; }

  /* Chart card */
  .chart-card{
    background: var(--surface);
    border: 1px solid var(--ring);
    box-shadow: var(--shadow);
    border-radius: 18px;
    padding: .75rem 1rem;
  }
  .chart-title{ font-size: 1.05rem; font-weight: 600; margin-bottom: .5rem; }
  .chart-tall{ height: 420px; width: 100%; }
  @media (min-width: 768px){ .chart-tall{ height: 520px; } }

  /* Recharts polish */
  .chart-card .recharts-cartesian-grid-horizontal line,
  .chart-card .recharts-cartesian-grid-vertical line{ stroke: var(--grid); }
  .chart-card .recharts-cartesian-axis-tick-value tspan{ font-size: 1rem; }
  .chart-card .recharts-legend-item-text{ font-size: 1rem !important; }
  .chart-card .recharts-default-tooltip{ font-size: 1rem; }

  /* Hide any leftover debug strip */
  .debug-strip{ display: none !important; }
}

/* -------- Utilities -------- */
@layer utilities {
  .muted{ color: var(--muted); }
}

/* -------- Small-screen tweaks -------- */
@media (max-width: 380px){
  .stat-value { font-size: 1.6rem; }
  .select { font-size: 1rem; }
  .panel label, .panel .muted { font-size: .95rem; }
}
